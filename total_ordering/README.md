# Total Ordering Algorithm

Algorithm proposed from the **Ordering the Events Totally** section in [[Leslie Lamport (1978)]](https://lamport.azurewebsites.net/pubs/time-clocks.pdf)

## example output

```sh
2020/03/27 16:43:25 P[2] T[0] send req [2 0] to P[1]
2020/03/27 16:43:25 P[2] T[0] send req [2 0] to P[3]
2020/03/27 16:43:25 P[4] T[0] send req [4 0] to P[5]
2020/03/27 16:43:25 P[4] T[0] send req [4 0] to P[1]
2020/03/27 16:43:25 P[4] T[0] send req [4 0] to P[2]
2020/03/27 16:43:25 P[4] T[0] send req [4 0] to P[3]
2020/03/27 16:43:25 P[2] T[0] send req [2 0] to P[4]
2020/03/27 16:43:25 P[1] T[1] ack request [2 0]
2020/03/27 16:43:25 P[2] T[0] send req [2 0] to P[5]
2020/03/27 16:43:25 P[3] T[1] ack request [2 0]
2020/03/27 16:43:25 P[4] T[2] ack request [2 0]
2020/03/27 16:43:25 P[1] T[2] ack request [4 0]
2020/03/27 16:43:25 P[2] T[2] ack request [4 0]
2020/03/27 16:43:25 P[2] T[3] receive ack [1 1]
2020/03/27 16:43:25 P[2] T[4] receive ack [3 1]
2020/03/27 16:43:25 P[2] T[5] receive ack [4 2]
2020/03/27 16:43:25 P[3] T[2] ack request [4 0]
...
2020/03/27 16:43:35 P[4] T[137] receive ack [2 133]
2020/03/27 16:43:35 P[1] T[133] ack request [4 132]
2020/03/27 16:43:35 P[1] T[134] ack request [5 128]
2020/03/27 16:43:35 P[5] T[141] receive ack [1 134]
2020/03/27 16:43:35 P[3] T[140] receive ack [4 134]
2020/03/27 16:43:35 P[3] T[141] receive ack [5 136]
2020/03/27 16:43:35 P[3] T[142] receive ack [1 131]
2020/03/27 16:43:35 P[1] T[135] receive ack [5 134]
2020/03/27 16:43:35 P[4] T[138] ack request [5 128]
2020/03/27 16:43:35 P[5] T[142] receive ack [4 138]
2020/03/27 16:43:35 P[1] T[136] receive ack [4 135]
2020/03/27 16:43:35 P[1] T[138] receive ack [3 137]
2020/03/27 16:43:35 P[1] T[139] receive ack [2 137]
2020/03/27 16:43:35 P[4] T[139] receive ack [5 133]
2020/03/27 16:43:35 P[4] T[140] receive ack [3 136]
2020/03/27 16:43:35 P[4] T[141] receive ack [1 133]
2020/03/27 16:43:36 P[2] T[140] requestQueue [[5 9] [1 14] [5 18] [3 24] [2 30] [1 34] [3 34] [5 35] [4 41] [1 44] [2 45] [5 48] [4 53] [3 56] [2 60] [1 61] [4 62] [5 66] [3 78] [2 79] [4 80] [5 80] [1 89] [2 94] [3 95] [4 95] [5 97] [1 98] [2 101] [3 110] [5 110] [2 111] [1 116] [4 123] [2 124] [3 127] [5 128] [1 129] [4 132]]
2020/03/27 16:43:36 P[2] T[140] logs [[2 0] [4 0] [5 0] [3 3] [2 7] [4 7]]
2020/03/27 16:43:36 P[3] T[142] requestQueue [[5 9] [1 14] [5 18] [3 24] [2 30] [1 34] [3 34] [5 35] [4 41] [1 44] [2 45] [5 48] [4 53] [3 56] [2 60] [1 61] [4 62] [5 66] [3 78] [2 79] [4 80] [5 80] [1 89] [2 94] [3 95] [4 95] [5 97] [1 98] [2 101] [3 110] [5 110] [2 111] [1 116] [4 123] [2 124] [3 127] [5 128] [1 129] [4 132]]
2020/03/27 16:43:36 P[3] T[142] logs [[2 0] [4 0] [5 0] [3 3] [2 7] [4 7]]
2020/03/27 16:43:36 P[4] T[141] requestQueue [[5 9] [1 14] [5 18] [3 24] [2 30] [1 34] [3 34] [5 35] [4 41] [1 44] [2 45] [5 48] [4 53] [3 56] [2 60] [1 61] [4 62] [5 66] [3 78] [2 79] [4 80] [5 80] [1 89] [2 94] [3 95] [4 95] [5 97] [1 98] [2 101] [3 110] [5 110] [2 111] [1 116] [4 123] [2 124] [3 127] [5 128] [1 129] [4 132]]
2020/03/27 16:43:36 P[4] T[141] logs [[2 0] [4 0] [5 0] [3 3] [2 7] [4 7]]
2020/03/27 16:43:36 P[5] T[142] requestQueue [[5 9] [1 14] [5 18] [3 24] [2 30] [1 34] [3 34] [5 35] [4 41] [1 44] [2 45] [5 48] [4 53] [3 56] [2 60] [1 61] [4 62] [5 66] [3 78] [2 79] [4 80] [5 80] [1 89] [2 94] [3 95] [4 95] [5 97] [1 98] [2 101] [3 110] [5 110] [2 111] [1 116] [4 123] [2 124] [3 127] [5 128] [1 129] [4 132]]
2020/03/27 16:43:36 P[5] T[142] logs [[2 0] [4 0] [5 0] [3 3] [2 7] [4 7]]
2020/03/27 16:43:36 P[1] T[139] requestQueue [[5 9] [1 14] [5 18] [3 24] [2 30] [1 34] [3 34] [5 35] [4 41] [1 44] [2 45] [5 48] [4 53] [3 56] [2 60] [1 61] [4 62] [5 66] [3 78] [2 79] [4 80] [5 80] [1 89] [2 94] [3 95] [4 95] [5 97] [1 98] [2 101] [3 110] [5 110] [2 111] [1 116] [4 123] [2 124] [3 127] [5 128] [1 129] [4 132]]
2020/03/27 16:43:36 P[1] T[139] logs [[2 0] [4 0] [5 0] [3 3] [2 7] [4 7]]

```
